# Knowledge Article: Jamf Pro API Permissions Guide

---

## Meta
`api_permissions`, `jamf_api`, `jamf_permissions`, `swagger`, `jamf_pro`, `endpoint_permissions`, `jamf_api_roles`, `privileges_checker`, `automation`

---

## Short Description
How to identify and configure required permissions for Jamf Pro API Roles and Clients.

---

## Issue
When configuring **Jamf Pro API Clients** or **Roles**, it can be unclear which permissions are required to access specific endpoints. Without knowing the exact privileges, API requests may fail with authorization errors.

---

## Environment
- **Jamf Pro** (Cloud or On-Premise)
- **Jamf Pro API** (v1 or newer)
- Admin access to Swagger documentation (`/api/doc`)
- Shell access to run scripts

---

## Cause
Jamfâ€™s API requires specific permissions for each endpoint, defined by the `x-required-privileges` field. However, these permissions are not always readily visible or easy to compile manually, especially across many endpoints.

---

## Resolution
### Step 1: Using Swagger Documentation
Jamf Pro's built-in Swagger documentation lists the required permissions for each endpoint clearly under the `x-required-privileges` field.

**Access Swagger Documentation:**
- Visit your instanceâ€™s API schema at:
  - Example: [https://overview.jamfcloud.com/api/doc](https://overview.jamfcloud.com/api/doc)

The permissions are located at the bottom of each API endpoint definition.

---

### Step 2: Automating Permissions Extraction
To automate identifying these permissions, use the following script:

ðŸ”— [JAPI-Privilege-Checker.sh](https://github.com/paullstanley/JamfAPI-PrivilegesChecker/blob/main/JAPI-Privilege-Checker.sh)

**Script Functionality:**
- Fetches the API schema directly from your Jamf Pro instance.
- Parses endpoints for the `x-required-privileges` field.
- Outputs a consolidated list of endpoints and their required permissions.

---

### How to Use the Script

1. **Clone or download the script locally**:
    ```bash
    git clone https://github.com/paullstanley/JamfAPI-PrivilegesChecker.git
    ```

2. **Ensure required dependencies** (`curl`, `jq`, and `bash`) are installed:
    ```bash
    # For macOS (using Homebrew)
    brew install curl jq

    # For Linux (Debian/Ubuntu)
    sudo apt-get install curl jq
    ```

3. **Make the script executable**:
    ```bash
    chmod +x JAPI-Privilege-Checker.sh
    ```

4. **Run the script with your Jamf instance URL and API token**:
    ```bash
    ./JAPI-Privilege-Checker.sh -u https://yourcompany.jamfcloud.com -t your_api_token
    ```

5. **Review the output**:
   The script will generate a comprehensive list mapping each API endpoint to its required privileges.

---

### Additional Reference
Jamf maintains a complete permissions mapping reference for both the Classic and newer APIs here:

ðŸ”— [Jamf Pro API Permissions Mapping](https://developer.jamf.com/jamf-pro/docs/classic-api-minimum-required-privileges-and-endpoint-mapping)

---

Use the above tools and references in tandem to verify access requirements and confidently configure your Jamf API Roles and Clients.
